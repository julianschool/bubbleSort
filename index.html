<!DOCTYPE html>

<html> 
 <head>
    <title>Bubble Sorting</title> 
</head>
 <body>
    <p align="center"> 
      <canvas id="mycanvas"></canvas> 
    </p>
 </body>
 <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
 <script>
    var sketchProc = function(processingInstance) {
     with (processingInstance) {
        size(screen.width, screen.height); 
//Bubble sorting
//Shows unsorted and sorted states
//https://julianschool.github.io/bubbleSort/
//It sorts eighty values
var numOfValues = 200;
var bubbleSort = function(length){   
this.array = length;
};
bubbleSort.prototype.sort = function(){
for (var i = 0; i < this.array.length-1; i++) {
for (var j = 0; j < this.array.length-i-1; j++) {
    if (this.array[j] > this.array[j+1]) { 
    var switch1 = this.array[j]; 
    this.array[j] = this.array[j+1]; 
    this.array[j+1] = switch1; 
} 
}
}
};
bubbleSort.prototype.display = function(){
background(255);
for(var i = 0; i < width-(width/numOfValues); i++){
fill(255-(this.array[i]/height)*255, 255-(this.array[i]/height)*255, 255-(this.array[i]/height)*255);
noStroke();
rect(i*(width/numOfValues), height-this.array[i], width/numOfValues, this.array[i]);

beginShape();
stroke(255*((height-this.array[i])/height)+50, 0,  0);
strokeWeight(5);
vertex(i*(width/numOfValues), height-this.array[i]);
vertex((i+1)*(width/numOfValues), height-this.array[i+1]);
endShape();
}
};
var temp = [];
for (var i = 0; i < numOfValues; i++) {
temp.push(random(45, height));
}
var bubble = new bubbleSort(temp);
bubble.display();
fill(255, 0, 0);
textFont(createFont("impact"), 150);
text("UNSORTED", 0, 150);
var timer = 0;
draw = function() {
    timer += 0.1;
    if(timer >= 15 && timer < 35){
        bubble.display();
        fill(0, 255, 0);
        textFont(createFont("impact"), 150);
        text("SORTED", 0, 150);
        bubble.sort();
    }
};



    }};
    var canvas = document.getElementById("mycanvas"); 
    var processingInstance = new Processing(canvas, sketchProc); 
 </script>

</html>
